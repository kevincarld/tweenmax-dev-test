var tl,imagesLoaded=!1,backup=!1;function preloadAssets(){preloadimages(["logo_aa.svg","logo-qantas-colour.svg","logo-qantas-mono.svg","shape-mask.svg","shape-red.svg","shape-blue.svg","shape-red-end-frame.svg","shape-red-end-frame2.svg","shape-white.svg"]).done(function(e){imagesLoaded=!0,setTimeout(beginAnimation,2100)})}function beginAnimation(){var e,o,t=document.querySelector("#video-el"),a=document.querySelector(".banner"),n=(document.querySelector(".container"),document.querySelector("#f1-copy")),l=document.querySelector("#f2-copy"),r=document.querySelector("#blue-shape"),s=document.querySelector("#red-shape"),u=document.querySelector("#white-shape"),c=document.querySelector("#mask-shape"),i=document.querySelector("#qantas-logo-mono"),p=document.querySelector("#qantas-logo-colour"),d=document.querySelector("#aa-logo"),h=document.querySelector(".terms-wrapper"),m=document.querySelector(".loader"),y=document.querySelector("#f3-copy"),f=document.querySelector("#logo-divider"),A=document.querySelector(".button"),g=document.querySelector("#red-shape-end-frame2"),v=$("#Bird"),q=v.find("#BirdHat"),x=v.find("#leftEye, #rightEye");function S(){var e=new TimelineMax;return e.fromTo(n,1.4,{autoAlpha:0},{autoAlpha:.8},"-=.1").to(n,1,{autoAlpha:0},"+=2.4").to(l,1,{autoAlpha:.8},"-=.4").to(l,1,{autoAlpha:0},"+=2.8"),e}console.log("start animation"),(new TimelineMax).add(function(){var e=new TimelineMax;return e.set(t,{autoAlpha:0}).set(n,{autoAlpha:0}).set(y,{autoAlpha:0}).set(h,{autoAlpha:0}).set(i,{autoAlpha:0}).set(p,{autoAlpha:0}).set(d,{autoAlpha:0}).set(A,{autoAlpha:0}).set(f,{height:0,rotation:180}).set(c,{left:-60,top:-20,scale:8,rotation:110}).set(s,{top:160,left:100,scale:.85,autoAlpha:.7,rotation:130}).set(r,{top:70,left:150,autoAlpha:.8,rotation:-140,scale:2}).set(u,{top:180,left:7,scale:6,rotation:-280,autoAlpha:0}).set(g,{autoAlpha:0}).set(l,{autoAlpha:0,onComplete:function(){a.style.display="block",console.log("show banner"),m.style.display="none",t.play()}}),e}()).add((o=new TimelineMax,o.to(t,1,{autoAlpha:1,onComplete:S}).to(c,1.3,{rotation:"-20",scale:19,transformOrigin:"48% 50%",ease:Power2.easeOut},0).to(c,.2,{rotation:"-=10",scale:16,transformOrigin:"48% 50%",ease:Power2.easeOut},"-=.4").to(c,.4,{rotation:"-=20",scale:38,y:"-=70",transformOrigin:"48% 50%",ease:Back.easeOut},"-=.2").to(r,1,{rotation:"-=200",x:"-=150",y:"+=30",scale:"+=1"},0).to(r,1.5,{rotation:"-=200",x:"-=60",y:"+=100",scale:"+=3"},"-=1").to(r,1,{x:"-=70",y:"+=150",scale:"+=3",autoAlpha:0,ease:Back.easeOut},"-=.85").to(s,1,{rotation:"-=140",x:"+=160",y:"-=80",scale:3},0).to(s,1,{x:"+=80",y:"-=100",scale:"+=6",autoAlpha:.8,ease:Back.easeInOut.config(1.4)},"-=1.5").to(u,.8,{left:-14,top:290,autoAlpha:.8},"-=1.1"),o)).add((e=new TimelineMax,e.add("insertCovers",5).to(s,1,{x:70,y:"-=50"},"insertCovers").to(u,.8,{x:200,y:30,rotation:"-=80",ease:Back.easeIn.config(.2)},"insertCovers").to(s,1,{rotation:"-=60",scale:"+=6",autoAlpha:1,transformOrigin:"98% 70%"},"-=.5").to(u,1,{left:87,top:77,autoAlpha:1,scale:9.8},"-=1").add("coversInserted").fromTo(i,1,{y:-35,autoAlpha:0},{y:0,autoAlpha:1},"coversInserted").fromTo(d,1,{y:35,autoAlpha:0},{y:0,autoAlpha:1},"coversInserted").to(t,.5,{autoAlpha:0}).to(s,.001,{scale:"+=6.1",x:217}),e)).add(function(){var e=new TimelineMax;return e.to(u,1,{rotation:"-=150",scaleY:10,x:0,y:220},0).to(i,.6,{top:140,left:5,scale:.8,autoAlpha:0},0).to(d,1,{top:125,right:40,scale:.8},0).add("logo down").to(p,.8,{top:179,left:10,autoAlpha:1},"-=.85").to(d,1,{top:179,right:53,scale:.8},0).add("switched color").to(f,2.1,{height:30,transformOrigin:"left bottom"},"-=.8").fromTo(g,1.6,{autoAlpha:0,y:-120,x:120,scale:.1},{autoAlpha:.27,y:0,x:0,scale:.88},0).add("f3").to(h,.7,{autoAlpha:1},0).fromTo(y,1,{autoAlpha:0,y:-20},{autoAlpha:1,y:0},"f3-=1.3").fromTo(A,.9,{autoAlpha:0,scale:.6},{autoAlpha:1,scale:1,onComplete:function(){document.querySelector(".birdie").style.display="block";var e=document.querySelector(".plug"),o=new TimelineMax;return o.set(q,{rotation:12,x:"+=6"}).to(v,1.4,{y:"-=39",autoAlpha:1,ease:Power4.easeInOut}).add("bird-peek").set(x,{autoAlpha:0}).set(x,{autoAlpha:1},"+=0.2").set(x,{autoAlpha:0},"+=0.2").set(x,{autoAlpha:1},"+=0.2").add("bird-blinks").to(v,.8,{y:"-=34",ease:Power4.easeInOut}).to(v,.3,{y:"+=8",ease:Back.easeInOut,onComplete:function(){e.style.display="block"}}).to(q,.4,{y:"-=12"},"-=0.6").to(q,.4,{y:0,rotation:0,x:0,onComplete:function(){var o=new TimelineMax({repeat:-1,repeatDelay:4});o.set([x,e],{autoAlpha:0}).set([x,e],{autoAlpha:1},"+=0.2").set([x,e],{autoAlpha:0},"+=1.2").set([x,e],{autoAlpha:1},"+=0.2")}},"-=0.3"),o}},"-=.4"),e}())}function preloadimages(e){var o=[],t=0,a=function(){};e="object"!=typeof e?[e]:e;function n(){++t==e.length&&a(o)}for(var l=0;l<e.length;l++)o[l]=new Image,o[l].src=e[l],o[l].onload=function(){n()},o[l].onerror=function(){n()};return{done:function(e){a=e||a}}}$(document).ready(function(){preloadAssets()});